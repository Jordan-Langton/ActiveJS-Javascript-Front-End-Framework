<template>
  <div class="container bg-light d-flex flex-col flex-center flex-align">
    <button @on:click="toggle" class="btn-p-sm bg-primary text-white shadow-sm">Reset</button>

    <input id="tester" class="d-none" type="email" @if="show" @reflect="data.value" @on:input="logVal">

    <!-- <div class="">{{test()}}</div> -->
<!--    <button @on:click="goToLoggedIn">Logged In</button>-->
  </div>
</template>

<script>
  const Router = ActiveJS.Router;
  ActiveJS.newController('helloWorld', {
    el: "#app",
    Data() {
      return {
        counter: 0,
        show: false,
        value: '',
        data: {
          value: ''
        },
        bundles: [],
        bundles2: [],
      }
    },
    _Mounted() {

      this.bundles = [
          {id: 1, data: "Foo"},
          {id: 2, data: "Bar"},
          {id: 3, data: "Fring"},
          {id: 4, data: "Ding"}
        ];

    },
    methods: {
      toggle(e) {
        this.show = !this.show;

        if (this.show) {
          document.getElementById('tester').classList.remove('d-none');
        }
        else {
          document.getElementById('tester').classList.add('d-none');
        }
      },
      logVal(e) {
        let key = e.which || e.keyCode;
        // debugger;
        console.log(this.data.value);
      },
      goToLoggedIn() {
        Router.route('/loggedIn');
      },
      test() {
        return this.counter;
      },
      clickButton() {
        this.counter++;
      },
      reset() {
        this.bundles = [];
        this.bundles2 = [];
      },
      updateBundle() {
        
        this.bundles = [
          {id: 5, data: "Foo"},
          {id: 6, data: "Bar"},
          {id: 7, data: "Fring"},
          {id: 8, data: "Ding"}
        ];

      },
      updateBundle2() {
        
        this.bundles2.push({id: 8, data: "Ding"});
        this.bundles2 = this.bundles2;

      }
    }
  });
</script>

<style>
.container {
  width: 100%;
  height: 100%;
}
.content {
  padding: 5% 0;
}
.help {
  width: 55%;
}
button {
  margin-top: 2%;
}
</style>
